# Менеджер пакетов ДУБ (dub) [![Статус построения](https://travis-ci.org/D-Programming-Language/dub.svg?branch=master)](https://travis-ci.org/D-Programming-Language/dub) [![Coverage Status](https://coveralls.io/repos/D-Programming-Language/dub/badge.svg)](https://coveralls.io/r/D-Programming-Language/dub)

Менеджер пакетов и построения [D](http://dlang.org/) приложений и библиотек.

Существует центральный [реестр пакетов](https://github.com/D-Programming-Language/dub-registry/) , расположенный на <http://code.dlang.org>.

## Отношение "Дуба" к "Динрусу"

Для применения в Динрус Дуб требует небольшого портирования. Планируется [создание аналогичного центра пакетов](https://github.com/dinrus), где уже есть начальные пакеты. Соответственно, нужна переработка кода "Дуба" под именно эту задачу для Динрус. Как Вы понимаете, Динрус может стать в недалёком будущем результатом общих усилий. Он будет широко использоваться в рускоязычных областях, например, детьми раннего возраста, которые априорно нацелены на то, чтобы понять как можно глубже программирование, не тратя лишних усилий на освоение иностранного языка (т.е. ОСВАИВАЯ ЕГО ПАРАЛЛЕЛЬНО, по мере сил и способностей). Кроме того, Динрус может стать в будущем весьма универсальным языком. Не случайно за основу взят язык D. Сейчас ведётся работа по [созданию особого универсального компилятора ДРК(DRC)](https://github.com/DinrusGroup/DRC). Несомненно, развитие этого проекта откроет языку новые радужные перспективы.

## Введение

DUB возник как более общая замена менеджеру пакетов [vibe.d](http://vibed.org/). Пакеты не зависимы от vibe.d , Дуб расширен не только с целью прямого построения пакетов, но также и на генерацию файлов проектов (в данный момент для [VisualD](https://github.com/rainers/visuald)).
[Mono-D](http://mono-d.alexanderbothe.com/) также поддерживает использование dub.json (описания пакетов Дуба) как файл проекта.

Философия этого проекта - оставлять вещи как можно более простыми. Всё, что нужно сделать для построение пакета Дуба,- написать короткий файл [dub.json](http://code.dlang.org/publish) и поместить исходники в подпапку `source`. Затем он *может быть* зарегистрирован в публичном [реестре пакетов](http://code.dlang.org), чтобы стать доступным для каждого. Все зависимости, указанные в `dub.json` автоматически загружаются и становятся доступными проекту в процессе его построения. 

В отношении Динруса становится ясно, что будет нужно для него сделать ещё. (Делайте выводы.)

## Ключевые особенности

 - Простое описание пакетов и построения, которое не осложняет работу над целевым результатом
 - Интеграция с Git, которая позволяет избегать задач обслуживания, таких как увеличение номеров версий или сброс на сервер новых выпусков (релизов) проекта
 - Генерированные файлы проекта/решения для VisualD, интеграция с MonoD
 - Поддержка DMD, GDC и LDC (общие флаги DMD транслируются автоматически)
 -Поддерживает поточную разработку, необязательно используя локальные папки в качестве источников пакета

## Будущее направление

Чтобы вещи стали как можно более гибкими для некоторых проектов, планируется постепенно добавлять дополнительные опции к [файловому формату пакета](http://code.dlang.org/package-format) , и - по возможности - добавить "возможность" (!) определения внешнего инструмента построения вместе с папкой вывода файлов проекта. Идея в том, чтобы DUB предложил удобное управление построением, удовлетворяющее 99% проектов, но никак не препятствовал в работе.

## Установка

DUB идёт [прекомпилированным](http://code.dlang.org/download) для Windows, OS X и Linux. Для него требуется libcurl с поддержкой SSL (кроме Windows).

Нужно лишь, чтобы `dub` exe был доступен через переменную среды `PATH`, и мог вызываться из корневой папки любых DUB enabled проектов, с тем чтобы строить и выполнять их.

Если хотите построить его самостоятельно, просто установите [DMD](http://dlang.org/download.html) и разработочные заголовки libcurl и выполните `./build.sh`. На Windows можно просто выполнить `build.cmd`, не устанавливая ничего кроме DMD.

### Архитектура Linux

Михаил Страшун (Dicebot) поддерживает пакет Дуба последнего релиза в `Community`, для [x86_64](https://www.archlinux.org/packages/community/x86_64/dub/) и [i686](https://www.archlinux.org/packages/community/i686/dub/).
Moritz Maxeiner создал файл PKGBUILD для GIT master: <https://aur.archlinux.org/packages/dub-git/>

### Debian/Ubuntu Linux

Jordi Sayol поддерживает пакет DEB как часть своего [D APT репозитория](http://d-apt.sourceforge.net). Выполните `sudo apt-get install dub` для установки.

### OS X

Chris Molozian добавил DUB в [Homebrew](http://mxcl.github.io/homebrew/). Используйте `brew install dub`, чтобы установить стабильную версию, дополнительно добавляя `--HEAD`/`--devel` для устанки свежайшего гит-мастера или релиза разработки соответственно.

Есть также пакет [МакПорты](https://www.macports.org/) . Наберите `sudo port install dub` для установки последней стабильной версии.

### Windows

Daniel Jost поддерживает пакет dub на [chocolatey](https://chocolatey.org/packages/dub). Используйте `cinst dub` или `cinst dub -version #.#.#` , чтобы установить стабильную или адаптированную версию, соответственно.

## Использование DUB как библиотеки

[Пакет DUB самого DUB](http://code.dlang.org/packages/dub) может использоваться как библиотека для загрузки и манипулирования пакетами, либо для имитации функционала инструментов командной строки. Последняя задача достигается использованием  [класса Package](https://github.com/D-Programming-Language/dub/blob/master/source/dub/package_.d#L40). Примеры для репликации функционала командной строки [смотри здесь - commandline.d](https://github.com/D-Programming-Language/dub/blob/master/source/dub/commandline.d).
